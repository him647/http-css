(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{473:function(t,e,n){var a=n(549);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(14).default)("7b4eff1a",a,!0,{sourceMap:!1})},474:function(t,e,n){var a=n(551);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(14).default)("c5767a3c",a,!0,{sourceMap:!1})},475:function(t,e,n){var a=n(553);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(14).default)("4296b27a",a,!0,{sourceMap:!1})},548:function(t,e,n){"use strict";var a=n(473);n.n(a).a},549:function(t,e,n){(e=n(13)(!1)).push([t.i,".learning_time_list_head[data-v-14bfde74]{display:flex;justify-content:space-between;margin-bottom:40px}h3[data-v-14bfde74]{font-size:1.3rem;font-weight:400;color:#7a8286;padding-bottom:5px;border-bottom:1px solid #d5dfe4;margin-bottom:15px}.total_learning_times[data-v-14bfde74]{width:40%}.total_learning_times .inner[data-v-14bfde74]{display:flex;justify-content:space-between;align-items:flex-start}.total_learning_times h4[data-v-14bfde74]{font-size:1.4rem;font-weight:700;color:#b5b5b5;line-height:1}.total_learning_times h4.strong[data-v-14bfde74]{color:#01c7ce}.total_learning_times p[data-v-14bfde74]{font-size:2.4rem}.month_select[data-v-14bfde74]{width:30%}.month_select .inner[data-v-14bfde74]{display:flex;justify-content:space-between;align-items:flex-start;font-size:2.4rem;padding-top:18px}.month_select a[data-v-14bfde74]{font-size:2.4rem}",""]),t.exports=e},550:function(t,e,n){"use strict";var a=n(474);n.n(a).a},551:function(t,e,n){(e=n(13)(!1)).push([t.i,".before[data-v-c16fc2e0]{opacity:.4}.btn_after[data-v-c16fc2e0]{color:tomato;font-weight:700}",""]),t.exports=e},552:function(t,e,n){"use strict";var a=n(475);n.n(a).a},553:function(t,e,n){(e=n(13)(!1)).push([t.i,"h1[data-v-c59b3bee]{font-size:2rem;font-weight:600}h1 .icon-website[data-v-c59b3bee]{margin-right:7px;vertical-align:text-bottom;color:#00c7ce}",""]),t.exports=e},597:function(t,e,n){"use strict";n.r(e);n(61),n(20);var a=n(4),r={props:{calendars:{type:Array,require:!0,default:function(){return[]}},lastMonthTotal:{type:Number,require:!0,default:0},targetMonthTotal:{type:Number,require:!0,default:0},year:{type:Number,require:!0,default:null},month:{type:Number,require:!0,default:null}},methods:{prevMonth:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.year&&t.month){e.next=2;break}return e.abrupt("return",null);case 2:return n=t.$dayjs("".concat(t.year,"-").concat(t.month,"-01")),a=n.subtract(1,"month"),e.next=6,t.$router.push({path:"/students/learning_time_lists",query:{year:a.format("YYYY"),month:a.format("M")}});case 6:case"end":return e.stop()}}),e)})))()},nextMonth:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.year&&t.month){e.next=2;break}return e.abrupt("return",null);case 2:return n=t.$dayjs("".concat(t.year,"-").concat(t.month,"-01")),a=n.add(1,"month"),e.next=6,t.$router.push({path:"/students/learning_time_lists",query:{year:a.format("YYYY"),month:a.format("M")}});case 6:case"end":return e.stop()}}),e)})))()}}},s=(n(548),n(3)),i=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"learning_time_list_head"},[n("div",{staticClass:"total_learning_times"},[n("h3",[t._v("総学習時間")]),t._v(" "),n("div",{staticClass:"inner"},[n("div",{staticClass:"current-month"},[n("h4",{staticClass:"strong"},[t._v("\n          今月\n        ")]),t._v(" "),n("p",[t._v(t._s(t.targetMonthTotal?t.targetMonthTotal:0)+"時間")])]),t._v(" "),n("div",{staticClass:"last-month"},[n("h4",[t._v("先月")]),t._v(" "),n("p",[t._v(t._s(t.lastMonthTotal?t.lastMonthTotal:0)+"時間")])])])]),t._v(" "),n("div",{staticClass:"month_select"},[n("h3",[t._v("表示年月選択")]),t._v(" "),n("div",{staticClass:"inner"},[n("a",{on:{click:t.prevMonth}},[n("font-awesome-icon",{attrs:{icon:["fas","chevron-left"]}})],1),t._v(" "),n("div",{staticClass:"current"},[t.year&&t.month?n("div",[t._v("\n          "+t._s(t.year)+"年"+t._s(t.month)+"月\n        ")]):n("div")]),t._v(" "),n("a",{on:{click:t.nextMonth}},[n("font-awesome-icon",{attrs:{icon:["fas","chevron-right"]}})],1)])])])}),[],!1,null,"14bfde74",null).exports,o={props:{calendars:{type:Array,require:!0,default:function(){return[]}}},data:function(){return{current_user:{course_id:1}}},methods:{changeRequestStatus:function(t){switch(t){case"承認待ち":return"打刻申請中";case"却下":return"申請が却下されています";default:return""}}}},c=(n(550),{layout:"headerTitle",components:{LearningTimeListHead:i,LearningTimeListTable:Object(s.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"sticky_table"},[t._m(0),t._v(" "),n("tbody",t._l(t.calendars,(function(e,a){return n("tr",{key:a,class:{unstamped:e.unstamped}},[n("td",[t._v(t._s(e.month+"/"+e.day))]),t._v(" "),n("td",[t._v(t._s(e.week))]),t._v(" "),e.learningTimes?[t._l([0,1,2],(function(a){return[n("td",{key:"td1-"+a},[e.learningTimes[a].changedStartTime?[n("p",{staticClass:"before"},[t._v("\n                  "+t._s(t._f("shapeTime")(e.learningTimes[a].startTime))+"\n                ")]),t._v(" "),n("p",[t._v(t._s(t._f("shapeTime")(e.learningTimes[a].changedStartTime)))])]:[e.learningTimes[a].deleted?[n("p",{staticClass:"before"},[t._v("\n                    "+t._s(t._f("shapeTime")(e.learningTimes[a].startTime))+"\n                  ")])]:[n("p",[t._v(t._s(t._f("shapeTime")(e.learningTimes[a].startTime)))])]]],2),t._v(" "),n("td",{key:"td2-"+a},[e.learningTimes[a].changedEndTime?[n("p",{staticClass:"before"},[t._v("\n                  "+t._s(t._f("shapeTime")(e.learningTimes[a].endTime))+"\n                ")]),t._v(" "),n("p",[t._v(t._s(t._f("shapeTime")(e.learningTimes[a].changedEndTime)))])]:[e.learningTimes[a].deleted?[n("p",{staticClass:"before"},[t._v("\n                    "+t._s(t._f("shapeTime")(e.learningTimes[a].endTime))+"\n                  ")])]:[n("p",[t._v(t._s(t._f("shapeTime")(e.learningTimes[a].endTime)))])]]],2)]}))]:[n("td"),t._v(" "),n("td"),t._v(" "),n("td"),t._v(" "),n("td"),t._v(" "),n("td"),t._v(" "),n("td")],t._v(" "),n("td",[t._v(t._s(e.total))]),t._v(" "),n("td",[e.id?[11==t.current_user.course_id?[n("nuxt-link",{staticClass:"button is-primary",attrs:{to:"/students/learning_time_lists/"+e.id}},[t._v("\n                詳細\n              ")])]:["承認済み"===e.chg_req_status?[n("nuxt-link",{staticClass:"button is-primary",attrs:{to:"/students/change_learning_times/"+e.change_timestamp_id}},[t._v("\n                  詳細\n                ")])]:[n("nuxt-link",{staticClass:"button is-primary",attrs:{to:"/students/learning_time_lists/"+e.id}},[t._v("\n                  詳細\n                ")])]]]:[n("nuxt-link",{staticClass:"button is-primary",attrs:{to:"/students/learning_time_lists/new?year="+e.year+"&month="+e.month+"&day="+e.day}},[t._v("\n              詳細\n            ")])],t._v(" "),11!==t.current_user.course_id?[n("p",{staticClass:"btn_after"},[t._v("\n              "+t._s(t.changeRequestStatus(e.chgReqStatus))+"\n            ")])]:t._e()],2)],2)})),0)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("日付")]),t._v(" "),n("th",[t._v("曜日")]),t._v(" "),n("th",[t._v("学習１"),n("br"),t._v("開始")]),t._v(" "),n("th",[t._v("学習１"),n("br"),t._v("終了")]),t._v(" "),n("th",[t._v("学習２"),n("br"),t._v("開始")]),t._v(" "),n("th",[t._v("学習２"),n("br"),t._v("終了")]),t._v(" "),n("th",[t._v("学習３"),n("br"),t._v("開始")]),t._v(" "),n("th",[t._v("学習３"),n("br"),t._v("終了")]),t._v(" "),n("th",[t._v("総時間"),n("br"),t._v("(時間)")]),t._v(" "),n("th",[t._v("操作")])])])}],!1,null,"c16fc2e0",null).exports},fetch:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.year=Number(t.$route.query.year),t.month=Number(t.$route.query.month),e.next=4,t.$store.dispatch("learningTime/getLearningTimeLists",{year:t.$route.query.year,month:t.$route.query.month});case 4:n=e.sent,a=n.data,t.calendars=a.data.calendars,t.lastMonthTotal=Number(a.data.lastMonthTotal),t.targetMonthTotal=Number(a.data.targetMonthTotal);case 9:case"end":return e.stop()}}),e)})))()},fetchOnServer:!1,validate:function(t){var e=t.query,n=t.app,a=t.redirect;return!(!e.year||!e.month)||a("/students/learning_time_lists?year=".concat(n.$dayjs().year(),"&month=").concat(n.$dayjs().format("M")))},asyncData:function(t){return Object(a.a)(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,a=t.app,t.query,t.redirect,r={title:"学習時間一覧",description:"",titleBar:{title:"学習時間一覧",icon:"icon-website",links:[{text:"学習時間一覧へ",url:"/students/learning_time_lists?year=".concat(a.$dayjs().year(),"&month=").concat(a.$dayjs().format("M"))}]}},e.next=4,n.dispatch("setPageSettings",r);case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{year:null,month:null,calendars:[],lastMonthTotal:null,targetMonthTotal:null}},watch:{"$route.query":"$fetch"}}),l=(n(552),Object(s.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"content"}},[e("div",{staticClass:"container"},[e("learning-time-list-head",{attrs:{year:this.year,month:this.month,"last-month-total":this.lastMonthTotal,"target-month-total":this.targetMonthTotal,calendars:this.calendars}}),this._v(" "),e("learning-time-list-table",{attrs:{calendars:this.calendars}})],1)])}),[],!1,null,"c59b3bee",null));e.default=l.exports}}]);